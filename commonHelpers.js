import{i as y,a as g,s as v}from"./assets/vendor-36533292.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}})();function w(e,o){const s=_(e);o.insertAdjacentHTML("beforeend",s)}function p(e){e.toString()==="400"&&(e="Tell support there is a parameter error."),e.toString()==="404"&&(e="Tell support there is an endpoint error."),e.toString()==="500"&&(e="Try again later."),e.toString()==="missing_keyword"&&(e="Enter the keyword."),e.toString()==="no_more_results"&&(e="We are sorry, but you have reached the end of search results."),e.toString()==="no_images_found"&&(e="Sorry, there are no images matching your search query. Please try again!"),y.show({title:"Oops!",message:`${e}`,position:"bottomLeft",color:"red",displayMode:"replace"})}function S(e){e==="no_more_results"&&(e="We are sorry, but you have reached the end of search results."),y.show({title:"â“˜",message:`${e}`,position:"bottomLeft",color:"blue",displayMode:"replace"})}function L(e){e?u.classList.remove("visually-hidden"):u.classList.add("visually-hidden")}function _(e){if(e.length===0)return p("no_images_found"),"";let o="";return e.forEach(s=>{o+=`<li><a href="${s.largeImageURL}"><img src="${s.webformatURL.replace("_640","_340")}" alt="${s.tags}"/></a>${q(s)}
</li>`}),o}function q(e){return`<div class="stats-box"><p>Likes<br><span>${e.likes}</span></p><p>Views<br><span>${e.views}</span></p><p>Comments<br><span>${e.comments}</span></p><p>Downloads<br><span>${e.downloads}</span></p></div>`}g.defaults.baseURL="https://pixabay.com/api/";const M="43979459-cb9029671f39809d08984a919",P=15;let c,n=1;async function $(e){var s;const o={params:{q:e,key:M,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:P,page:n}};try{const t=(await g.get("",o)).data;return t.totalHits===0?[]:(n+=1,c=Math.ceil(t.totalHits/n),c>n?L(!0):S("no_more_results"),t.hits)}catch(a){const t=(s=a==null?void 0:a.response)!=null&&s.status?a.response.status:a;p(t)}}function k(){n=1,c=15}const u=document.querySelector(".load-more-js"),i=document.querySelector(".gallery"),I=document.querySelector(".search-wrapper"),T=".gallery a",f=document.querySelector(".loader"),m=document.querySelector(".nothing-fetched"),O=new v(T,{captionDelay:250,captionsData:"alt"});let d="";I.addEventListener("submit",async e=>{if(e.preventDefault(),d=e.target.elements.searchbox.value.trim(),d===""){p("missing_keyword");return}i.innerHTML="",k(),await b()});u.addEventListener("click",async e=>{await b(),x(2)});async function b(){h(!1),f.classList.remove("visually-hidden"),L(!1);const e=await $(d);f.classList.add("visually-hidden"),Array.isArray(e)&&(w(e,i),O.refresh(),i.hasChildNodes()||h(!0))}function h(e){e?m.classList.remove("visually-hidden"):m.classList.add("visually-hidden")}function x(e){const s=i.querySelector("li").getBoundingClientRect();window.scrollBy({top:e*s.height,left:0,behavior:"smooth"})}
//# sourceMappingURL=commonHelpers.js.map
